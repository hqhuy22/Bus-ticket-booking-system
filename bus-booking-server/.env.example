# .env.example for server
# Copy this to .env and fill in your values

# Database Configuration
PG_HOST=localhost
PG_PORT=5432
PG_USER=postgres
PG_PASSWORD=your_password_here
PG_DATABASE=bus_booking_db

# Alternative: Use DATABASE_URL instead of individual PG_* variables
# DATABASE_URL=postgres://user:password@localhost:5432/bus_booking_db

# JWT Secret (use a strong random string in production)
JWT_SECRET=your-jwt-secret-change-this-in-production

# Session Secret (use a strong random string in production)
SESSION_SECRET=your-session-secret-change-this-in-production

# Client URL (frontend URL for CORS and redirects)
CLIENT_URL=http://localhost:5173

# Server URL (backend URL for email links)
SERVER_URL=http://localhost:4000

# ============================================
# EMAIL SERVICE CONFIGURATION
# ============================================

# Email Provider (choose one: 'gmail', 'smtp', 'sendgrid', 'ses')
# RECOMMENDED for Production (Render): 'sendgrid' (bypasses SMTP port blocks)
EMAIL_PROVIDER=gmail

# Option 1: Gmail Configuration (Development/Local Only)
# Get app password: Google Account → Security → 2-Step Verification → App passwords
# ⚠️ WARNING: Gmail SMTP may not work on Render (port 587 blocked)
EMAIL_SERVICE=gmail
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-gmail-app-password

# Option 2: Custom SMTP Configuration (Advanced)
# Works if hosting platform allows SMTP ports
# EMAIL_SERVICE=smtp
# SMTP_HOST=smtp.example.com
# SMTP_PORT=2525
# SMTP_SECURE=false
# EMAIL_USER=your-smtp-username
# EMAIL_PASSWORD=your-smtp-password

# Option 3: SendGrid Configuration (✅ RECOMMENDED FOR PRODUCTION)
# Free tier: 100 emails/day (enough for small-scale production)
# Works on ANY hosting platform (uses HTTPS, no SMTP ports)
# Setup guide: See SENDGRID_SETUP_GUIDE.md
# Quick steps:
#   1. Sign up: https://signup.sendgrid.com/
#   2. Create API key: https://app.sendgrid.com/settings/api_keys
#   3. Verify sender: https://app.sendgrid.com/settings/sender_auth/senders
#   4. Test: npm run test:sendgrid your@email.com
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
# SENDGRID_FROM_EMAIL=noreply@yourdomain.com

# Option 4: AWS SES Configuration (Production - Advanced)
# Setup AWS account and verify domain/email in SES
# AWS_REGION=us-east-1
# AWS_SES_FROM_EMAIL=noreply@yourdomain.com

# Email timeout (milliseconds) - prevents hanging requests
EMAIL_TIMEOUT=45000

# ============================================
# GOOGLE OAUTH CONFIGURATION
# ============================================
# Google OAuth Configuration
# Get these from Google Cloud Console
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
GOOGLE_CALLBACK_URL=http://localhost:4000/api/auth/google/callback

# Server Port (optional, defaults to 4000)
PORT=4000

# Node Environment
NODE_ENV=development

# Logging (set to 'true' to suppress verbose logs)
QUIET_LOGS=false

# ============================================
# AI ASSISTANT / CHATBOT CONFIGURATION
# ============================================
# Google Gemini AI Configuration (RECOMMENDED - FREE!)
# Get FREE API key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key-here
# Available models (all FREE):
# - gemini-2.0-flash-exp: Latest experimental, fastest (RECOMMENDED)
# - gemini-1.5-flash: Stable, very fast
# - gemini-1.5-pro: Most capable, higher limits
GEMINI_MODEL=gemini-2.0-flash-exp
CHATBOT_MAX_HISTORY=20

# OpenAI Configuration (Alternative - Paid)
# Only needed if you prefer OpenAI over Gemini
# Get API key from: https://platform.openai.com/api-keys
# OPENAI_API_KEY=sk-your-openai-api-key-here
# OPENAI_MODEL=gpt-4o-mini
